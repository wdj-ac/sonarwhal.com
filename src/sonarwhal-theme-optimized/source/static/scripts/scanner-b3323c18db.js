!function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(this))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null});var e,t=function(e,t){var r;("undefined"!=typeof closecloseAll?t:(r=e.closest(".rule-result"),Array.prototype.slice.apply(r.querySelectorAll(".rule-result--details")).some(function(e){return"true"===e.getAttribute("aria-expanded")})))?(e.innerHTML="- close all",e.classList.remove("closed"),e.classList.add("expanded")):(e.innerHTML="+ expand all",e.classList.remove("expanded"),e.classList.add("closed"))},r=function(e,r){var n=e.closest(".rule-result--details"),s=void 0!==r?r:"true"===n.getAttribute("aria-expanded"),l=e.getAttribute("data-rule"),a=n.closest(".rule-result").querySelector(".button-expand-all");s?(n.setAttribute("aria-expanded","false"),e.innerHTML="open details",e.setAttribute("title","show "+l+"'s result details")):(n.setAttribute("aria-expanded","true"),e.innerHTML="close details",e.setAttribute("title","close "+l+"'s result details")),t(a)},n=function(e){var n=e.target;-1!==n.className.indexOf("button--details")&&r(n),-1!==n.className.indexOf("button-expand-all")&&function(e){for(var n=e.closest(".rule-result"),s=Array.prototype.slice.apply(n.querySelectorAll(".button--details")),l=e.classList.contains("expanded"),a=0;a<s.length;a++)r(s[a],!!l);t(e,!l)}(n)},s=document.querySelector(".permalink-copy");s&&s.addEventListener("click",function(){!function(e){var t="hidden-clipboard",r=document.getElementById(t);if(!r){var n=document.createElement("textarea");n.id=t,n.style.position="fixed",n.style.top=0,n.style.left=0,n.style.width="1px",n.style.height="1px",n.style.padding=0,n.style.border="none",n.style.outline="none",n.style.boxShadow="none",n.style.background="transparent",document.querySelector("body").appendChild(n),r=document.getElementById(t)}r.value=e,r.select(),document.execCommand("copy")}(document.querySelector(".scan-overview__body__permalink").textContent.trim())}),window.addEventListener("popstate",function(){var e,t;e="/scanner/",(t=window.location.href).length-e.length===t.indexOf(e)&&(window.location.href=window.location.href)},!1),(e=document.getElementById("results-container"))&&e.addEventListener("click",n,!1),function(){for(var e=document.querySelectorAll("code"),t=0;t<e.length;t++)hljs.highlightBlock(e[t])}()}(),function(){"use strict";var e=document.querySelector(".scan-overview");if(e){var t,r,n=e.getAttribute("data-id"),s=[],l="error",a="finished",o="pending",i="pass",u="pending",c=document.querySelector(".scan-queue-bg-wrap"),d=document.querySelector(".scan-result-bg-wrap"),p=function(){return'{{#each results}}<div class="rule-result--details" aria-expanded="false" id="{{name}}"><div class="rule-result--details__header"><p class="rule-title">{{name}}: {{getLength messages status}}</p><div class="rule-result__docs">{{#if hasDoc}} <a class="docs-button" target="_blank" href="/docs/user-guide/rules/rule-{{name}}/" title="documentation for {{name}} rule"><img src="/static/images/results-docs-icon-05070ce00b.svg" alt="" class="docs-icon">Documentation</a> {{/if}} <button title="show {{name}}\'s result details" class="button--details" data-rule="{{name}}">Open details</button></div></div>{{#each messages}}<div class="rule-result--details__body"><p class="{{../status}}-badge uppercase-text">{{../status}}</p><p>{{{linkify message}}}</p>{{#if resource}}<p><a target="_blank" rel="noopener noreferrer" href="{{resource}}">{{cutUrlString resource}}{{normalizePosition location.line}}{{normalizePosition location.column}}</a></p>{{/if}} {{#if sourceCode}}<div class="rule-result__code"><code>{{cutCodeString sourceCode}}</code></div>{{/if}}</div>{{/each}} {{#if thirdParty}}<div class="rule-result--details__footer-msg">{{#if thirdParty.details}}<p>To learn more visit</p>{{else}}<p>With the help of</p>{{/if}} <a href="{{thirdParty.link}}"><img src="{{thirdParty.logo.url}}" alt="{{thirdParty.logo.alt}}" class="{{thirdParty.logo.name}}-logo"></a></div>{{/if}}</div>{{/each}}'},m=function(e,t){return e+(1===t?"":"s")},f=function(e,t,r,n,s,l){t>0?(e.classList.add("rule-list--failed"),e.innerHTML=t+" "+m(r,t),e.closest(".rule-tile").classList.add("rule-tile--failed")):(e.innerHTML=t+" "+m(r,t),l&&e.classList.add("rule-list--passed"),s&&e.closest(".rule-tile").classList.add("rule-tile--passed"))},y=function(e){if(e.results&&0!==e.results.length){var t,r,n=document.getElementById(e.name),s=n.querySelector(".button-expand-all"),l=n.querySelector(".compiling__loader"),a=(t=e,r=p(),Handlebars.compile(r)(t));if(!s){n.querySelector(".rule-result--category").insertAdjacentHTML("beforeend",'<button title="expand" class="button-expand-all closed">+ expand all</button>')}l.insertAdjacentHTML("beforebegin",a)}},v=function(e){var t=e.updates,n=e.time,s=e.version;t.forEach(function(e){if(e.results){var t,r,n,s,l,a,c,d,p,m,v,h,g,b,w,S=e.rules.every(function(e){return e.status===i}),_=e.rules.every(function(e){return e.status!==u});S&&(t=e,r=document.getElementById(t.name),n=r.querySelector(".compiling__loader"),r.querySelector(".rule-result__message--passed")||(n&&r.removeChild(n),r.insertAdjacentHTML("beforeend",'<div class="rule-result--details"><div class="rule-result__message--passed"><p>No issues</p></div></div>'))),e.results=e.results.filter(function(e){return e.status!==i}),y(e),l=S,a=_,c="."+(s=e).name+".errors",d="."+s.name+".warnings",p=s.statistics.errors,m=s.statistics.warnings,v=document.querySelector(c),(h=document.querySelector(d)).innerHTML=m+" Warnings",f(v,p,"Error",s.name,l,a),f(h,m,"Warning",s.name,l,a),e.rules.every(function(e){return e.status!==o})&&(g=e,b=document.getElementById(g.name),(w=b.querySelector(".compiling__loader"))&&b.removeChild(w))}});for(var l=document.querySelectorAll("code"),a=0;a<l.length;a++)hljs.highlightBlock(l[a]);document.querySelector("#total-errors").innerHTML=r.errors,document.querySelector("#total-warnings").innerHTML=r.warnings,document.querySelector(".scan-overview--time .scan-overview__body--purple").innerHTML=n,document.querySelector(".scan-overview--version .scan-overview__body--purple").innerHTML=s},h=function(e){return e&&1===e.length?"0"+e:e},g=function(){try{var e=document.querySelector(".scan-overview--time .scan-overview__body--purple"),t=e.innerHTML.split(":"),r=parseInt(t[0],10),n=parseInt(t[1],10);++n>=60&&(r++,n=0),e.innerHTML=h(r.toString())+":"+h(n.toString())}catch(e){}},b=function(){var e,i,u,p,m={callback:function(e,n){var i,u,p,m,f,y,h,g,w,S,_=n.status===a,q=n.status===l,x=n.status===o;if(r=n.overallStatistics,e)return clearInterval(t),void console.error(e);if(x)c.style.display="block",d.style.display="none";else{c.style.display="none",d.style.display="block",q&&document.querySelector("#results-container").insertAdjacentHTML("beforebegin",'<div class="scan-error"><p>There was an error and we were only able to partially complete the scan. View the results below or <a href="https://sonarwhal.com/scanner/">perform another scan</a>.</p><p></p></div>');var L=((S=n.categories).forEach(function(e){e.results&&(e.results=e.results.filter(function(e){return-1===s.indexOf(e.name)}))}),S);if(v({time:n.time,updates:L,version:n.version}),n.categories.forEach(function(e){e.results&&e.results.forEach(function(e){-1===s.indexOf(e.name)&&s.push(e.name)})}),_||q)return clearInterval(t),g=n.status,(w=document.querySelector(".scan-overview__status")).textContent=g,w.classList.remove("analyzing"),i=n.status,p="failed",m="passed",f=(u=r).errors,y=u.warnings,h="/images/favicon_"+(i!==l&&0===f&&0===y?m:p)+".ico",void document.querySelector('link[rel="icon"]').setAttribute("href",h)}setTimeout(b,5e3)},url:"api/"+n};t||(t=setInterval(g,1e3)),e=m,i=new XMLHttpRequest,u=e.callback,p=e.url,i.open(e.method||"GET",p,!0),i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){if(u)return e.dontTransform?u(null,i.responseText):u(null,JSON.parse(i.responseText))}else if(u)return u(i.status,i.responseText);return null},i.send(e.params)};window.history.pushState(null,null,n),function(){for(var e=document.querySelectorAll(".rule-result--details"),t=0;t<e.length;t++)s.push(e[t].id)}(),"none"!==document.querySelector(".scan-queue-bg-wrap").style.display?setTimeout(b,1e4):b()}}();